(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){var t=e.Pos;function n(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function r(e,t){if(!Array.prototype.indexOf){var n=e.length;while(n--){if(e[n]===t){return true}}return false}return e.indexOf(t)!=-1}function i(n,r,i,o){var s=n.getCursor(),f=i(n,s),l=f;if(/\b(?:string|comment)\b/.test(f.type))return;f.state=e.innerMode(n.getMode(),f.state).state;if(!/^[\w$_]*$/.test(f.string)){f=l={start:s.ch,end:s.ch,string:"",state:f.state,type:f.string=="."?"property":null}}while(l.type=="property"){l=i(n,t(s.line,l.start));if(l.string!=".")return;l=i(n,t(s.line,l.start));if(!a)var a=[];a.push(l)}return{list:d(f,a,r,o),from:t(s.line,f.start),to:t(s.line,f.end)}}function o(e,t){return i(e,u,function(e,t){return e.getTokenAt(t)},t)}e.registerHelper("hint","javascript",o);function s(e,t){var n=e.getTokenAt(t);if(t.ch==n.start+1&&n.string.charAt(0)=="."){n.end=n.start;n.string=".";n.type="property"}else if(/^\.[\w$_]*$/.test(n.string)){n.type="property";n.start++;n.string=n.string.replace(/\./,"")}return n}function f(e,t){return i(e,p,s,t)}e.registerHelper("hint","coffeescript",f);var l=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight "+"toUpperCase toLowerCase split concat match replace search").split(" ");var a=("length concat join splice push pop shift unshift slice reverse sort indexOf "+"lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var c="prototype apply call bind".split(" ");var u=("break case catch continue debugger default delete do else false finally for function "+"if in instanceof new null return switch throw true try typeof var void while with").split(" ");var p=("and break catch class continue delete do else extends false finally for "+"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");function d(e,t,i,o){var s=[],f=e.string;function u(e){if(e.lastIndexOf(f,0)==0&&!r(s,e))s.push(e)}function p(e){if(typeof e=="string")n(l,u);else if(e instanceof Array)n(a,u);else if(e instanceof Function)n(c,u);for(var t in e)u(t)}if(t&&t.length){var d=t.pop(),h;if(d.type&&d.type.indexOf("variable")===0){if(o&&o.additionalContext)h=o.additionalContext[d.string];if(!o||o.useGlobalScope!==false)h=h||window[d.string]}else if(d.type=="string"){h=""}else if(d.type=="atom"){h=1}else if(d.type=="function"){if(window.jQuery!=null&&(d.string=="$"||d.string=="jQuery")&&typeof window.jQuery=="function")h=window.jQuery();else if(window._!=null&&d.string=="_"&&typeof window._=="function")h=window._()}while(h!=null&&t.length)h=h[t.pop().string];if(h!=null)p(h)}else{for(var y=e.state.localVars;y;y=y.next)u(y.name);for(var y=e.state.globalVars;y;y=y.next)u(y.name);if(!o||o.useGlobalScope!==false)p(window);n(i,u)}return s}});