(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.multiplexingMode=function(n){var i=Array.prototype.slice.call(arguments,1);var t=i.length;function r(e,n,i){if(typeof n=="string")return e.indexOf(n,i);var t=n.exec(i?e.slice(i):e);return t?t.index+i:-1}return{startState:function(){return{outer:e.startState(n),innerActive:null,inner:null}},copyState:function(i){return{outer:e.copyState(n,i.outer),innerActive:i.innerActive,inner:i.innerActive&&e.copyState(i.innerActive.mode,i.inner)}},token:function(o,c){if(!c.innerActive){var l=Infinity,f=o.string;for(var u=0;u<t;++u){var s=i[u];var a=r(f,s.open,o.pos);if(a==o.pos){o.match(s.open);c.innerActive=s;c.inner=e.startState(s.mode,n.indent?n.indent(c.outer,""):0);return s.delimStyle}else if(a!=-1&&a<l){l=a}}if(l!=Infinity)o.string=f.slice(0,l);var v=n.token(o,c.outer);if(l!=Infinity)o.string=f;return v}else{var d=c.innerActive,f=o.string;if(!d.close&&o.sol()){c.innerActive=c.inner=null;return this.token(o,c)}var a=d.close?r(f,d.close,o.pos):-1;if(a==o.pos){o.match(d.close);c.innerActive=c.inner=null;return d.delimStyle}if(a>-1)o.string=f.slice(0,a);var A=d.mode.token(o,c.inner);if(a>-1)o.string=f;if(d.innerStyle){if(A)A=A+" "+d.innerStyle;else A=d.innerStyle}return A}},indent:function(i,t){var r=i.innerActive?i.innerActive.mode:n;if(!r.indent)return e.Pass;return r.indent(i.innerActive?i.inner:i.outer,t)},blankLine:function(r){var o=r.innerActive?r.innerActive.mode:n;if(o.blankLine){o.blankLine(r.innerActive?r.inner:r.outer)}if(!r.innerActive){for(var c=0;c<t;++c){var l=i[c];if(l.open==="\n"){r.innerActive=l;r.inner=e.startState(l.mode,o.indent?o.indent(r.outer,""):0)}}}else if(r.innerActive.close==="\n"){r.innerActive=r.inner=null}},electricChars:n.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:n}}}}});