(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,r){var n=t.getModeAt(r),o=n.blockCommentStart,i=n.blockCommentEnd;if(!o||!i)return;var f=r.line,l=t.getLine(f);var a;for(var c=r.ch,m=0;;){var u=c<=0?-1:l.lastIndexOf(o,c-1);if(u==-1){if(m==1)return;m=1;c=l.length;continue}if(m==1&&u<r.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(f,u+1)))){a=u+o.length;break}c=u-1}var d=1,s=t.lastLine(),b,g;e:for(var v=f;v<=s;++v){var h=t.getLine(v),k=v==f?a:0;for(;;){var p=h.indexOf(o,k),C=h.indexOf(i,k);if(p<0)p=h.length;if(C<0)C=h.length;k=Math.min(p,C);if(k==h.length)break;if(k==p)++d;else if(!--d){b=v;g=k;break e}++k}}if(b==null||f==b&&g==a)return;return{from:e.Pos(f,a),to:e.Pos(b,g)}})});