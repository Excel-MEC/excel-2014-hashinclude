(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineOption("rulers",false,function(t,l,s){if(s&&s!=e.Init){r(t);t.off("refresh",o)}if(l&&l.length){i(t);t.on("refresh",o)}});function r(e){for(var r=e.display.lineSpace.childNodes.length-1;r>=0;r--){var i=e.display.lineSpace.childNodes[r];if(/(^|\s)CodeMirror-ruler($|\s)/.test(i.className))i.parentNode.removeChild(i)}}function i(r){var i=r.getOption("rulers");var o=r.defaultCharWidth();var t=r.charCoords(e.Pos(r.firstLine(),0),"div").left;var l=r.display.scroller.offsetHeight+30;for(var s=0;s<i.length;s++){var f=document.createElement("div");f.className="CodeMirror-ruler";var n,a=null,d=i[s];if(typeof d=="number"){n=d}else{n=d.column;if(d.className)f.className+=" "+d.className;if(d.color)f.style.borderColor=d.color;if(d.lineStyle)f.style.borderLeftStyle=d.lineStyle;if(d.width)f.style.borderLeftWidth=d.width;a=i[s].className}f.style.left=t+n*o+"px";f.style.top="-50px";f.style.bottom="-20px";f.style.minHeight=l+"px";r.display.lineSpace.insertBefore(f,r.display.cursorDiv)}}function o(e){r(e);i(e)}});